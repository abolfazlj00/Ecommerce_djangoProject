{% extends 'store/base.html' %}
{% load static %}
{% block loadCss %}
    <link rel="stylesheet" type="text/css" href="{% static 'order/css/checkout.css' %}">
{% endblock %}
{% block title %}checkout{% endblock %}
{% block sidebar %}
{% endblock %}
{% block content %}
    <section class="checkout_section" id="checkout_items">
        <div class="mainWrapper">
            <div class="statusBar">
                <span class="pBar" id="progressBar"></span>
                <div class="node n0 done nConfirm0">
                    <div class="main done m0 done nConfirm0"></div>
                    <span class="text t0 done nConfirm0">Confirm</span>
                </div>
                <div class="node n1 nConfirm1">
                    <div class="main m1 nConfirm1"></div>
                    <span class="text t1 nConfirm1">Address</span>
                </div>
                <div class="node n2 nConfirm2">
                    <div class="main m2 nConfirm2"></div>
                    <span class="text t2 nConfirm2">Payment</span>
                </div>
                <div class="node n3 nConfirm3">
                    <div class="main m3 nConfirm3"></div>
                    <span class="text t3 nConfirm3">Complete</span>
                </div>
            </div>
        </div>

        <div class="summary active" id="summary">
            <table>
                <caption>Summary Of <span>Orders</span></caption>
                <thead>
                <tr>
                    <th scope="col">Image</th>
                    <th scope="col">Title</th>
                    <th scope="col">Unit Price</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Total Price</th>
                </tr>
                </thead>
                <tbody id="summary_tbody">

                </tbody>
            </table>
        </div>
        <div class="address" id="address">
            <table>
                <caption>Your <span>Address</span></caption>
            </table>
            <div id="Useraddress">
                {% for address in addresses %}
                    <div class="address_label">
                        <input type="radio" id="address_{{ address.id }}" onchange="showAddressForm(this)"
                               name="address_button" required>
                        <label for="address_{{ address.id }}">{{ address }}</label><br>
                    </div>
                {% endfor %}
            </div>
            <div class="new_address_div">
                <input type="radio" id="new" onchange="showAddressForm(this)" name="address_button">
                <label for="new">Add new one</label>
            </div>

            <form action="{% url 'customer:address' %}" class="new_address_form" id="add_new_address" method="post">
                {% csrf_token %}
                <label for="province">Province:</label><br>
                <input type="text" name="province" id="province" required><br>
                <label for="city">City:</label><br>
                <input type="text" name="city" id="city" required><br>
                <label for="address">Address:</label><br>
                <textarea type="text" rows="10" cols="20" name="address" id="address_text" required></textarea><br>
                <label for="postal_code">Postal Code:</label><br>
                <input type="number" name="postal_code" id="postal_code" required>
            </form>
        </div>
        <div class="payment" id="payment">
            <table>
                <caption>Your <span>Payment</span></caption>
            </table>
        </div>
        <div class="complete" id="complete">
            <table>
                <caption>Your Orders is <span>Sending...</span></caption>
            </table>
        </div>

        <div class="buttonHolder">
            <div class="button b-back" id="back">Back To Cart</div>
            <div class="button b-next" id="next">Next</div>
        </div>
    </section>
{% endblock %}
{% block loadJs %}
    <script src="{% static 'order/js/checkout.js' %}"></script>
{% endblock %}